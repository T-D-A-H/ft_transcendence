<!DOCTYPE html>
<html>

<head>
	<title>Mini Pong</title>
	<link href="/game/styles/tailwind.css" rel="stylesheet" />
</head>

	<body class="pong-background">
		<div class="pong-root">
			<div class="pong-panel">
			
				<!-- TOP LEFT: BUTTON STACK -->
				<div class="pong-top-left relative">
					<div id="notify-box" class="pong-notification-bar">
						<span id="notify-text"></span>
					</div>
				</div>

			
				<!-- BOTTOM RIGHT: BUTTON STACK -->
				<div class="pong-bottom-right">
					<button id="open_login" class="pong-button hidden">LOG IN</button>
					<button id="open_register" class="pong-button hidden">REGISTER</button>
					<button id="play_against_user" class="pong-button hidden">PLAY ONLINE</button>
					<button id="create_tournament" class="pong-button hidden">CREATE TOURNAMENT</button>
					<button id="play_locally" class="pong-button hidden">PLAY LOCALLY</button>
					<button id="search_tournament" class="pong-button hidden">SEARCH TOURNAMENT</button>
					<button id="start_match" class="pong-button hidden">START MATCH</button>
					<button id="exit_match" class="pong-button hidden">EXIT MATCH</button>
					<div class="pong-bottom-buttons">
						<button id="night_mode" class="pong-button"><span class="pong-icon">&#9680;</span></button>
						<button id="logout_button" class="pong-button hidden">LOG OUT</button>
					</div>
				</div>


				<!-- BOTTOM LEFT: GAME CANVAS -->
				<div class="pong-bottom-left">
					
					<canvas id="game_screen" width="600" height="400" class="pong-game-screen"></canvas>
				
					<div id="waiting_players" class="pong-waiting hidden">
						WAITING FOR PLAYER...
					</div>

					<!-- Spinner -->
					<div id="load_animation_modal" class="pong-modal pong-load-animation">
						<div class="h-12 w-12 mb-4 border-4 border-[#1c1817] animate-spin"></div>
						<div class="text-[#1c1817] text-sm font-['PressStart2P']">Loading...</div>
					</div>

					<!-- Login modal -->
    				<div id="login_modal" class="pong-modal hidden">
						
						<div class="flex items-center justify-center">
							<button id="close_login" class="pong-cancel-button">X</button>
							<h2 class="pong-modal-top-text">SIGN IN</h2>
						</div>

    				  	<input id="user_input" type="text" class="pong-input-field" placeholder="Username" />
    				  	<input id="pass_input" type="password" class="pong-input-field" placeholder="Password" />

  
						<div class="flex justify-center mt-4">
							<button id="login_submit_button" class="pong-submit-button">SUBMIT</button>
						</div>
    				</div>

					<!-- Register modal -->
					<div id="register_modal" class="pong-modal hidden">

						<div class="flex items-center justify-center">
							<button id="close_register" class="pong-cancel-button">X</button>
							<h2 class="pong-modal-top-text">REGISTER</h2>
						</div>

						<input id="reg_username" type="text" class="pong-input-field" placeholder="Username" />
						<input id="reg_displayname" type="text" class="pong-input-field" placeholder="Display Name" />
						<input id="reg_email" type="email" class="pong-input-field" placeholder="Email" />
						<input id="reg_password" type="password" class="pong-input-field" placeholder="Password" />

						<div class="flex justify-center mt-4">
							<button id="register_submit_button" class="pong-submit-button">SUBMIT</button>
						</div>
					</div>


					<!-- Create Tournament -->
					<div id="create_tournament_modal" class="pong-modal hidden">

						<div class="flex items-center justify-center">
							<button id="tournament_create_cancel_button" class="pong-cancel-button">X</button>
							<h2 class="pong-modal-top-text">CREATE TOURNAMENT</h2>
						</div>

						<input id="tournament_alias" type="text" class="pong-input-field mt-2" placeholder="Enter Alias" />
						<div class="flex items-center justify-center gap-2">
							<button type="button" id="decrement" class="pong-button-small">-</button>
							<input id="tournament_size" type="number" min="2" max="64" step="2" class="pong-input-field text-center" placeholder="4" />
							<button type="button" id="increment" class="pong-button-small">+</button>
						</div>

						<div class="flex justify-center mt-4">
							<button id="tournament_create_submit_button" class="pong-submit-button">SUBMIT</button>
						</div>
					</div>


					<!-- Active tournaments modal -->
					<div id="search_tournaments_modal" class="pong-modal hidden">

						<div class="flex items-center justify-center">
							<button id="tournament_search_cancel_button" class="pong-cancel-button">X</button>
							<h2 class="pong-modal-top-text">Available Tournaments</h2>
						</div>

						<ul id="tournament_list_ul" class="pong-tournament-list"></ul>

					</div>

					<!-- Play Request Modal--> 
					<div id="play_request_modal" class="pong-modal hidden">

						<div class="flex items-center justify-center">
							<button id="close_play_request" class="pong-cancel-button">X</button>
							<h2 class="pong-modal-top-text">Send Match Request</h2>
						</div>

						<input id="play_request_username" type="text" class="pong-input-field" placeholder="Enter username" />

						<div class="flex justify-center mt-4">
							<button id="send_play_request" class="pong-submit-button">SUBMIT</button>
						</div>

					</div>

					<!-- Incoming Play Request Modal  CHANGE THIS TO A NOTIFICATION-->
					<div id="incoming_play_request_modal" class="pong-modal hidden">
						<h2 class="pong-modal-top-text">Match Request</h2>
						<p id="incoming_play_request_text" class="mb-4 text-[8px] leading-4 text-[#1c1817] font-['PressStart2P']">
							Player wants to play against you.
						</p>
						<div class="flex justify-between">
							<button id="incoming_play_request_close" class="pong-button text-[12px] px-3 py-1">X</button>
							<button id="incoming_play_request_accept" class="pong-button text-[12px] px-3 py-1">ACCEPT</button>
						</div>
					</div>

					<!-- 2FA Option Modal -->
					<div id="twofa_option_modal" class="pong-modal hidden">

						<div class="flex items-center justify-center">
							<button id="twofa_cancel_button" class="pong-cancel-button">X</button>
							<h2 class="pong-modal-top-text">Choose 2FA Method</h2>
						</div>

						<div class="flex flex-col gap-2 mt-4">
							<button id="twofa_email_button" class="pong-submit-button w-38">Email</button>
							<button id="twofa_auth_button" class="pong-submit-button w-38">Authenticator</button>
							<button id="twofa_skip_button" class="pong-submit-button w-38">Skip For Now</button>
						</div>
					</div>

					<!-- 2FA Input Modal -->
					<div id="twofa_modal" class="pong-modal hidden">

						<div class="flex items-center justify-center">
							<button id="close_play_request" class="pong-cancel-button">X</button>
							<h2 class="pong-modal-top-text">Two-Factor Authentication</h2>
						</div>

						<input id="twofa_input" type="text" class="pong-input-field" placeholder="Enter 2FA code" />

						<div class="flex justify-center mt-4">
							<button id="twofa_submit_button" class="pong-submit-button">SUBMIT</button>
						</div>
					</div>

				</div>

				<!-- CRT EFFECT CANVAS -->
				<canvas id="crt_overlay" class="fixed inset-0 pointer-events-none z-50"></canvas>
			</div>
		</div>


		<script type="module" src="/game/public/main.js"></script>

	</body>
</html>


